@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

* {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;
}

body { min-height: 100vh !important; min-width: 100vw !important; }

/* Pastel theme for both modes */
/* Pastel Dream (light) */
:root { --bg:#F6EEF5; --panel:#F9F1F7; --panelStrong:#F0E7F0; --accent:#FF7BAC; --accent2:#8CC6FF; --text:#222635; --muted:#3A3E4F; --extra:#FFD166; }

body.theme-dark, body.theme-light { background: radial-gradient(1200px 700px at 10% -10%, rgba(162,210,255,.15), transparent 60%), radial-gradient(1000px 600px at 90% -10%, rgba(255,123,172,.12), transparent 60%), var(--bg) !important; color: var(--text) !important; display:flex !important; justify-content:center !important; align-items:center !important; }

.glass { background: var(--panel) !important; border-radius: 0 !important; width:1600px !important; height:900px !important; box-shadow: 0 10px 36px rgba(34,38,53,.14) !important; border:1px solid rgba(34,38,53,.18) !important; display:flex !important; flex-direction:column !important; padding: 2.5rem 1.5rem !important; margin:auto !important; overflow:hidden !important; }

/* Big content workspace frame */
.workspace-frame { border:1px solid rgba(34,38,53,.20) !important; box-shadow: 0 8px 22px rgba(34,38,53,.10) !important; border-radius:18px !important; background: var(--panelStrong) !important; }

/* Sidebar panel frame, same visual as workspace */
.panel-frame { border: 1px solid rgba(34,38,53,.20) !important; box-shadow: 0 8px 22px rgba(34,38,53,.10) !important; border-radius: 18px !important; background: var(--panelStrong) !important; transition: width .2s ease, min-width .2s ease, max-width .2s ease, padding .2s ease !important; position: relative; }

/* Top panel that visually merges with the left sidebar */
/* removed top/left panel frames — keep only central workspace frame */

/* sidebar visuals unchanged */

/* Smooth collapse/expand for the sidebar container */
.sidebar-shell {
  transition: min-width 220ms ease, max-width 220ms ease, width 220ms ease, padding 220ms ease;
}

/* Subtle glass-like frame for banners/cards */
.glass-frame { border:1px solid rgba(34,38,53,.20) !important; box-shadow: 0 6px 18px rgba(34,38,53,.10) !important; background: var(--panel) !important; border-radius:12px !important; overflow:hidden !important; isolation:isolate; }

/* Neutral card frame for compact list tiles (less pink glow) */
.card-frame {
  border: 1px solid rgba(56,189,248,0.20) !important;
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,0.04),
    0 0 0 1px rgba(56,189,248,0.22),
    0 10px 24px rgba(56,189,248,0.18) !important;
  background: rgba(14, 18, 26, 0.30) !important;
  backdrop-filter: blur(10px) saturate(120%) !important;
  -webkit-backdrop-filter: blur(10px) saturate(120%) !important;
  /* Keep rounded shape even on hover scale (fix Chrome/Edge + backdrop-filter quirk) */
  border-radius: 12px !important;
  overflow: hidden !important;
  isolation: isolate;
}

/* Crystal buttons */
.btn-kristal {
  background: linear-gradient(180deg, rgba(255,255,255,0.28), rgba(255,255,255,0.18)) !important;
  color: #0b1020 !important;
  border: 1px solid rgba(255,255,255,0.24) !important;
  box-shadow: 0 6px 22px rgba(0,0,0,0.35), inset 0 0 0 1px rgba(255,255,255,0.35) !important;
  backdrop-filter: blur(12px) saturate(160%) !important;
  -webkit-backdrop-filter: blur(12px) saturate(160%) !important;
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease !important;
}
.btn-kristal:hover { box-shadow: 0 8px 28px rgba(0,0,0,0.45), inset 0 0 0 1px rgba(255,255,255,0.45) !important; transform: translateY(-1px); background: linear-gradient(180deg, rgba(255,255,255,0.34), rgba(255,255,255,0.22)) !important; }
.btn-kristal:active { transform: translateY(0); box-shadow: 0 4px 16px rgba(0,0,0,0.30) !important; }
.btn-kristal.disabled, .btn-kristal:disabled { opacity: .6; cursor: default; }

/* Accent variant to stand out (cyan → indigo) */
.btn-kristal-accent {
  background: linear-gradient(180deg, rgba(34,211,238,0.28), rgba(99,102,241,0.22)) !important;
  color: #ffffff !important;
  border: 1px solid rgba(255,255,255,0.28) !important;
  box-shadow: 0 10px 28px rgba(34,211,238,0.28), inset 0 0 0 1px rgba(255,255,255,0.35) !important;
  backdrop-filter: blur(10px) saturate(160%) !important;
  -webkit-backdrop-filter: blur(10px) saturate(160%) !important;
}
.btn-kristal-accent:hover { filter: brightness(1.06); box-shadow: 0 12px 34px rgba(99,102,241,0.40), inset 0 0 0 1px rgba(255,255,255,0.45) !important; }
.btn-kristal-accent:active { filter: brightness(0.98); }

/* Crystal ghost button */
.btn-kristal-ghost {
  background: rgba(255,255,255,0.10) !important;
  color: #e9eef5 !important;
  border: 1px solid rgba(255,255,255,0.16) !important;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.06), 0 6px 18px rgba(0,0,0,0.25) !important;
  backdrop-filter: blur(10px) saturate(160%) !important;
  -webkit-backdrop-filter: blur(10px) saturate(160%) !important;
  transition: background .12s ease, box-shadow .12s ease !important;
}
.btn-kristal-ghost:hover { background: rgba(255,255,255,0.16) !important; }

/* Crystal toggle switch */
.toggle-kristal {
  appearance: none;
  width: 46px; height: 26px;
  background: rgba(255,255,255,0.10);
  border: 1px solid rgba(255,255,255,0.18);
  border-radius: 9999px; position: relative; outline: none;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.08), 0 4px 12px rgba(0,0,0,0.25);
  transition: background .15s ease, border-color .15s ease;
}
.toggle-kristal:checked { background: linear-gradient(180deg, rgba(255,255,255,0.28), rgba(255,255,255,0.18)); border-color: rgba(255,255,255,0.28); }
.toggle-kristal::after {
  content: ""; position: absolute; top: 3px; left: 3px;
  width: 20px; height: 20px; border-radius: 9999px;
  background: radial-gradient(circle at 30% 30%, #fff, #eaf7ff);
  box-shadow: 0 2px 6px rgba(0,0,0,0.35), inset 0 0 0 1px rgba(255,255,255,0.55);
  transition: transform .15s ease;
}
.toggle-kristal:checked::after { transform: translateX(20px); }

/* Kristal glass input */
.input-kristal {
  background: rgba(255,255,255,0.10) !important;
  color: #e9eef5 !important;
  border: 1px solid rgba(255,255,255,0.16) !important;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.06), 0 6px 18px rgba(0,0,0,0.25) !important;
  backdrop-filter: blur(10px) saturate(160%) !important;
  -webkit-backdrop-filter: blur(10px) saturate(160%) !important;
}
.input-kristal::placeholder { color: rgba(255,255,255,0.55); }

/* Glint effect for cards */
/* glint effects removed per design */

/* Menus / dropdowns to match dark glass theme */
.menu-surface { background: var(--panel); color: var(--text); border:1px solid rgba(34,38,53,.18); box-shadow: 0 12px 30px rgba(34,38,53,.12); }

.menu-item {
  padding: 8px 12px;
  border-radius: 10px;
}
.menu-item:hover { background: rgba(255,255,255,0.08); }
.menu-divider { border-top: 1px solid rgba(255,255,255,0.08); }

/* Override inputs inside header search to fit dark theme */
input[type="text"] { background-color: #FFFFFF; color: var(--text); border:1.5px solid rgba(34,38,53,.28); box-shadow: 0 2px 8px rgba(34,38,53,.10) inset; }
input[type="text"]::placeholder { color: rgba(43,45,66,.42); }

/* Avatar frame styling depending on theme */
body.theme-dark .avatar-frame, body.theme-light .avatar-frame {
  border: 1px solid rgba(255,255,255,0.10);
  box-shadow: 0 4px 14px rgba(0,0,0,0.35);
}

body.theme-light .avatar-frame {
  border: 1px solid rgba(0,0,0,0.18);
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

/* Theme: light (обновлено на жёлтый градиент) */
body.theme-light { }

body.theme-light .glass { }

body.theme-light .workspace-frame, body.theme-light .panel-frame, body.theme-light .glass-frame { }

body.theme-light input[type="text"] { }

/* Neon Tokyo (dark) */
/* Light green minimalist theme */
body.theme-dark { --bg:#B8C8A0; --panel:#D0DCBB; --panelStrong:#FFFFFF; --accent:#5B7553; --accent2:#6B8A62; --text:#2D3A27; --muted:#5A6A53; --extra:#8BA47F; }
/* Light background with soft colors */
body.theme-dark { background: var(--bg) !important; color: var(--text) !important; }
body.theme-dark .glass { background: var(--bg) !important; border:1px solid rgba(91,117,83,.1) !important; box-shadow: none !important; }
body.theme-dark .workspace-frame { background: var(--panel) !important; border:1px solid rgba(91,117,83,.1) !important; box-shadow: 0 2px 8px rgba(91,117,83,.08) !important; }
body.theme-dark .panel-frame { background: var(--panel) !important; border:1px solid rgba(91,117,83,.1) !important; box-shadow: 0 2px 8px rgba(91,117,83,.08) !important; }
body.theme-dark .glass-frame { background: var(--panel) !important; border:1px solid rgba(91,117,83,.1) !important; box-shadow: 0 2px 8px rgba(91,117,83,.08) !important; }
body.theme-dark .menu-surface { background: var(--panelStrong) !important; color: var(--text) !important; border:1px solid rgba(91,117,83,.15) !important; box-shadow: 0 4px 12px rgba(91,117,83,.12) !important; }
body.theme-dark input[type="text"] { background-color: var(--panelStrong); color: var(--text); border:1px solid rgba(91,117,83,.2); box-shadow: none; }
body.theme-dark input[type="text"]::placeholder { color: rgba(91,117,83,.5); }

/* Utility remap remains palette-aware via variables */

/* Typography overrides to migrate dark classes to pastel theme */
.text-white { color: var(--text) !important; }
.text-white\/90 { color: rgba(43,45,66,.90) !important; }
.text-white\/80 { color: rgba(43,45,66,.80) !important; }
.text-white\/70 { color: rgba(43,45,66,.70) !important; }
.text-white\/60 { color: rgba(43,45,66,.60) !important; }
.text-white\/50 { color: rgba(43,45,66,.50) !important; }
.bg-white\/10 { background: rgba(255,255,255,.55) !important; color: var(--text) !important; border-color: rgba(34,38,53,.20) !important; }
.bg-white\/20 { background: rgba(255,255,255,.75) !important; color: var(--text) !important; }
.border-white\/20 { border-color: rgba(34,38,53,.22) !important; }
.border-white\/30 { border-color: rgba(34,38,53,.28) !important; }

/* Buttons/links in header */
.top-link { color: var(--text); opacity:.75; transition: color .15s ease, opacity .15s ease; }
.top-link:hover { color: var(--accent); opacity:1; }

/* Old pink utility remap to pastel accents */
.text-pink-200, .hover\:text-pink-200:hover { color: var(--accent) !important; }
.text-pink-300 { color: var(--accent) !important; }
.bg-pink-600, .bg-pink-700, .bg-pink-700\/95 { background-color: var(--accent) !important; }
.focus\:ring-pink-500\/60:focus { --tw-ring-color: rgba(162,57,202,.6) !important; }

/* Скрытие скроллбара для горизонтального слайдера */
.scrollbar-hide {
  -ms-overflow-style: none;  /* Internet Explorer 10+ */
  scrollbar-width: none;  /* Firefox */
}

/* Allow hovered scaled tiles to render outside their container in horizontal rows */
.allow-overflow-visible {
  overflow: visible !important;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;  /* Safari and Chrome */
}

/* Вертикальный скролл для правой колонки: скрыт в начале, появляется при прокрутке */
.scrollable {
  /* Firefox */
  scrollbar-width: none;
  position: relative;
  overflow-x: hidden;
}

.scrollable--active {
  /* Firefox */
  scrollbar-width: thin;
  scrollbar-color: #fbbf24 rgba(255, 255, 255, 0.15);
  padding-right: 10px; /* compensate custom scrollbar width for symmetric gutters */
}

/* Edge fade masks for scrollable content */
/* Use alpha mask instead of overlay to avoid visible glow on content */
.scrollable::before,
.scrollable::after { display: none; }

.scrollable {
  -webkit-mask-image: linear-gradient(to bottom, transparent 0, #000 12px, #000 calc(100% - 12px), transparent 100%);
  mask-image: linear-gradient(to bottom, transparent 0, #000 12px, #000 calc(100% - 12px), transparent 100%);
}

/* WebKit (Chrome/Edge/Safari) */
.scrollable::-webkit-scrollbar {
  width: 0px;
}

.scrollable--active::-webkit-scrollbar {
  width: 10px;
}

.scrollable--active::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.15);
  border-radius: 9999px;
}

.scrollable--active::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, #fcd34d, #f59e0b);
  border-radius: 9999px;
  border: 2px solid rgba(255, 255, 255, 0.35);
}

.scrollable--active:hover::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, #fde68a, #fbbf24);
}

/* Accent remap: map "pink" utility classes to cool blue equivalents */
.bg-pink-900\/70 { background-color: rgba(17, 24, 39, 0.70) !important; }
.bg-pink-900\/50 { background-color: rgba(17, 24, 39, 0.50) !important; }
.bg-pink-900\/40 { background-color: rgba(17, 24, 39, 0.40) !important; }
.bg-pink-700 { background-color: rgba(59, 130, 246, 0.95) !important; } /* blue-500 */
.bg-pink-700\/95 { background-color: rgba(59, 130, 246, 0.95) !important; }
.hover\:bg-pink-600:hover { background-color: #2563eb !important; } /* blue-600 */
.text-pink-200 { color: #bfdbfe !important; } /* blue-200 */
.text-pink-300 { color: #93c5fd !important; } /* blue-300 */
.bg-pink-300 { background-color: #93c5fd !important; }
.text-pink-100\/95 { color: rgba(219, 234, 254, 0.95) !important; } /* blue-100 */
.text-pink-100\/80 { color: rgba(219, 234, 254, 0.80) !important; }
/* Additional overrides for commonly used variants */
.hover\:text-pink-200:hover { color: #bfdbfe !important; }
.bg-pink-600 { background-color: #2563eb !important; }
.text-pink-700 { color: #1d4ed8 !important; } /* blue-700 */
/* Ring override used in a few buttons */
.focus\:ring-pink-500\/60:focus { --tw-ring-color: rgba(59, 130, 246, 0.6) !important; }