# üöÄ –î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ GitHub

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ VDS

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞ VDS (–æ–¥–∏–Ω —Ä–∞–∑):

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
sudo mkdir -p /var/www/kristal
cd /var/www/kristal

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Git
sudo apt install -y git

# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π)
git init
git remote add origin https://github.com/your-username/your-repo.git

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js –∏ PM2
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt install -y nodejs
sudo npm install -g pm2

# –°–æ–∑–¥–∞–π—Ç–µ SSH –∫–ª—é—á –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è
ssh-keygen -t rsa -b 4096 -C "deploy" -f ~/.ssh/deploy_key -N ""

# –ü–æ–∫–∞–∂–∏—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á
cat ~/.ssh/deploy_key.pub

# –î–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á –≤ authorized_keys
cat ~/.ssh/deploy_key.pub >> ~/.ssh/authorized_keys

# –ü–æ–∫–∞–∂–∏—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á (–µ–≥–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ GitHub Secrets)
cat ~/.ssh/deploy_key
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Secrets

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: Settings ‚Üí Secrets and variables ‚Üí Actions
3. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ–∫—Ä–µ—Ç—ã:

```
VDS_HOST=your-vds-ip-address
VDS_USER=your-username
VDS_SSH_KEY=<–ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —à–∞–≥–∞>
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ Git (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–¥–µ–ª–∞–ª–∏)
git init

# –î–æ–±–∞–≤—å—Ç–µ remote
git remote add origin https://github.com/your-username/your-repo.git

# –î–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª—ã
git add .

# –°–¥–µ–ª–∞–π—Ç–µ –∫–æ–º–º–∏—Ç
git commit -m "Initial commit with backend"

# –ó–∞–ø—É—à—å—Ç–µ –≤ main –≤–µ—Ç–∫—É
git branch -M main
git push -u origin main
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ workflow (—É–∂–µ —Å–æ–∑–¥–∞–Ω)

–§–∞–π–ª `.github/workflows/deploy.yml` —É–∂–µ —Å–æ–∑–¥–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!

### 5. –ü–µ—Ä–≤—ã–π –¥–µ–ø–ª–æ–π

–ü–æ—Å–ª–µ –ø—É—à–∞ –≤ main –≤–µ—Ç–∫—É, GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ü–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ –≤–∞—à–µ–º—É VDS
- –ó–∞–≥—Ä—É–∑–∏—Ç –∫–æ–¥
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–µ—Ä

### 6. –î–∞–ª—å–Ω–µ–π—à–∏–µ –¥–µ–ø–ª–æ–∏

–ü—Ä–æ—Å—Ç–æ –¥–µ–ª–∞–π—Ç–µ `git push` –≤ main –≤–µ—Ç–∫—É ‚Äî –¥–µ–ø–ª–æ–π –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

```bash
git add .
git commit -m "Update code"
git push
```

## üìù –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

–ï—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GitHub Actions:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç

```bash
chmod +x server/deploy.sh
./server/deploy.sh user@your-vds-ip
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–æ–π SSH

```bash
# –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã
scp -r server/ user@your-vds-ip:/var/www/kristal/

# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ VDS
ssh user@your-vds-ip

# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ VDS:
cd /var/www/kristal/server
npm install
pm2 restart kristal-backend
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞:

```bash
git add .
git commit -m "Your changes"
git push
```

GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–≤–µ—Ä–Ω–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è.

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–µ–ø–ª–æ—è

–°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –¥–µ–ø–ª–æ—è –≤ GitHub:
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ: Actions ‚Üí Deploy to VDS ‚Üí –ü–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–ø—É—Å–∫

–ù–∞ VDS —Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞:
```bash
ssh user@your-vds-ip
pm2 logs kristal-backend
```

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –î–µ–ø–ª–æ–π –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ GitHub Settings ‚Üí Secrets
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ workflow —Ñ–∞–π–ª –≤ `.github/workflows/`

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSH –∫–ª—é—á
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç 22 –æ—Ç–∫—Ä—ã—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –∫–ª—é—á: `chmod 600`

### –°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
ssh user@your-vds-ip
cd /var/www/kristal/server
npm start  # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ Git**
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ GitHub Secrets**
3. **–ú–µ–Ω—è–π—Ç–µ JWT_SECRET —Ä–µ–≥—É–ª—è—Ä–Ω–æ**
4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ firewall –Ω–∞ VDS**
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã**

## üìã –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–≤–æ–≥–æ –¥–µ–ø–ª–æ—è

- [ ] VDS –Ω–∞—Å—Ç—Ä–æ–µ–Ω (Node.js, PM2, Nginx)
- [ ] SSH –∫–ª—é—á —Å–æ–∑–¥–∞–Ω –∏ –¥–æ–±–∞–≤–ª–µ–Ω –≤ GitHub Secrets
- [ ] GitHub Secrets –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (VDS_HOST, VDS_USER, VDS_SSH_KEY)
- [ ] –ö–æ–¥ –∑–∞–ª–∏—Ç –≤ GitHub
- [ ] Workflow —Ñ–∞–π–ª –Ω–∞ –º–µ—Å—Ç–µ
- [ ] –ü–µ—Ä–≤—ã–π –¥–µ–ø–ª–æ–π —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω
- [ ] –°–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ IP/–¥–æ–º–µ–Ω—É

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –∫–∞–∂–¥—ã–π push –≤ main –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ!

